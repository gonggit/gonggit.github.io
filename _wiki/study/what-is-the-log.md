---
layout  : wiki
title   : 
summary : 
date    : 2024-04-20 16:11:36 +0900
updated : 2024-05-08 17:56:15 +0900
tag     : 
resource: C7/6C9B1C-5A85-4A6B-BD25-690B06E228FC
toc     : true
public  : false 
parent  : 
latex   : false
---
* TOC
{:toc}


# 로그?
2013년 12월에 기고된 글로, 링크드인에 입사한 지 6년차가 된 엔지니어의 소회다. 중앙집중식 데이터베이스, 모놀리식 서비스에서 분산 시스템으로의 전환하는 일을 하면서 가장 흥미로웠던 점이 바로 그들이 만들었던 시스템의 핵심에는 바로 로그가 있었다는 점이었다.

> Sometimes called write-ahead logs or commit logs or transaction logs, logs have been around almost as long as computers and are at the heart of many distributed data systems and real-time application architectures.

> Write-ahead 로그, 커밋 로그, 트랜잭션 로그라고 불리는 로그들은 컴퓨터만큼이나 오래 존재해왔으며, 많은 분산 데이터 시스멭과 실시간 어플리케이션 아키텍처의 핵심입니다

필자는 로그 없이는 어떠한 시스템도 100% 이해할 수 없음에도 불구하고 대부분의 소프트웨어 개발자들에게 로그와 친하지 않다고 말한다. 사실 이 로그라는 것은 직군을 막론하고 중요한 역할을 한다. 개발자들에게 익숙한 컴포넌트(마땅한 단어를 찾기 어렵지만 아무튼 모든 서버, 클라이언트 어플리케이션, 데이터베이스 등)들, 그러니까 어떻게든 동작하는 모든 전산 시스템은 로그 없이는 제대로 개발, 운영할 수 없다는 것이다.

# 로그란 무엇일까?

> A log is perhaps the simplest possible storage abstraction. It is an append-only, totally-ordered sequence of records ordered by time.

> 로그는 아마도 가장 간단한 스토리지 추상화다. 덧붙이는 것만 가능하고, 시간순으로 정렬된 레코드의 연속이다. 

로그에 대한 논의를 함에 있어서 레코드의 내용이나 형태는 중요하지 않다. 또한 저장 공간의 제한으로 인해 레코드를 무한히 로그에 기록할 수 없다.

로그는 파일이나 테이블과 크게 다르지 않다. 파일은 바이트의 배열이고 테이블은 레코드의 배열이며, 로그는 레코드가 시간별로 정렬된 일종의 테이블이나 파일이다. 

그렇다면 이 단순한 것에 대해서 왜 이야기해야 하는 것일까? 단지 뒤에 덧붙여지기만 하는 연속된 레코드가 데이터 시스템과 무슨 연관이 있길래? 답은 로그가 특별한 목적을 가지고 있기 때문이다. 로그는 **언제 무슨 일이 일어났는지** 에 대한 기록이다. 특히 분산 데이터 시스템에게 이는 문제의 핵심이다.

사실 모든 프로그래머들에게 친숙한 로깅의 정의는 따로 있다. 비체계적으로 로컬 파일에 기록되는 error, trace, info 로그가 바로 그것이다. 명확히 하기 위해 이를 '어플리케이션 로깅' 이라고 부르기로 한다. 어플리케이션 로그는 이 곳에서 설명하고자 하는 로그 개념의 퇴보적인 형태이다. 둘의 가장 큰 차이점은 텍스트 로그는 주로 사람이 읽을 수 있게 만들어졌고 이 글의 "저널" 혹은 "데이터 로그"는 프로그래밍 방식의 액세스를 위해 만들어졌다는 것이다.

## 데이터베이스에서의 로그

